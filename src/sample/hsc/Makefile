GCC=gcc
OPT=-g $(COPT)
LWSCOPT=nestfunc.c -lpthread

progs=bintree-gcc bin2list-gcc\
 bintree-lw bin2list-lw

# hogehoge-gcc.c is generated by:
# (sc2c "sample/hsc/hogehoge.sc")
# hogehoge-lw.c is generated by:
# (sc2c-lw "sample/hsc/hogehoge.sc")

all: $(progs)

bintree-gcc: bintree-gcc.c hsc-gcc.c
	$(GCC) $(OPT) bintree-gcc.c hsc-gcc.c -o bintree-gcc
bin2list-gcc: bin2list-gcc.c hsc-gcc.c
	$(GCC) $(OPT) bin2list-gcc.c hsc-gcc.c -o bin2list-gcc

bintree-lw: bintree-lw.c hsc-lw.c
	$(GCC) $(OPT) bintree-lw.c hsc-lw.c $(LWSCOPT) -o bintree-lw
bin2list-lw: bin2list-lw.c hsc-lw.c
	$(GCC) $(OPT) bin2list-lw.c hsc-lw.c $(LWSCOPT) -o bin2list-lw

clean:
	rm -f $(progs)
